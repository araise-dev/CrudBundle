{# @var view \whatwedo\CrudBundle\View\DefinitionView #}

{% for block in view.blocks(constant('whatwedo\\CrudBundle\\Enum\\Page::SHOW'))|filter(c => is_granted(c.option('show_voter_attribute'), view.data)) %}
    {% if block.acronym == blockAcronym and fieldAcronym is null%}
        {{ wwd_crud_render_block(block, view, constant('whatwedo\\CrudBundle\\Enum\\Page::SHOW')) }}
    {% elseif block.acronym == blockAcronym and fieldAcronym is not null %}
        {% for content in block.contents(constant('whatwedo\\CrudBundle\\Enum\\Page::SHOW'))|filter(c => is_granted(c.option('show_voter_attribute'), view.data)) %}
            {% if content.acronym == fieldAcronym %}
                {{ wwd_crud_render_content(content, block, view, form) }}
            {% endif %}
        {% endfor %}
    {% endif %}
{% endfor %}

